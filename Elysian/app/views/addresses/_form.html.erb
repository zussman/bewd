<%= simple_nested_form_for @address do |f| %>
  <%= f.error_notification %>

  <%= f.input :line_1 %>
  <%= f.input :line_2 %>
  <%= collection_select( :address, :city_id, City.all, :id, :name, {}, { :multiple => false } ) %>
  <%= f.fields_for :cities do |city| %>
    <%= city.input :name %>
  <% end %>
  <%= collection_select( :address, :city_id, City.all, :id, :name, { prompt: 'Select a city'}, { multiple: false } ) %>
  <%= collection_select( :address, :state_id, State.all, :id, :name, {}, { :multiple => false } ) %>
  <%= collection_select( :address, :zip_id, Zip.all, :id, :zipcode, { prompt: 'Select a zip code'}, { multiple: false } ) %>
  <%= f.button :submit %>
<% end %>